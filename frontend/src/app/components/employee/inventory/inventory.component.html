<div class="inventory-container">
  <div class="inventory-header">
    <h2>Inventory Management</h2>
    <p class="subtitle">View available stock and request items</p>
  </div>

  <!-- Loading state -->
  <div class="loading-container" *ngIf="loading">
    <div class="loading-spinner"></div>
    <p>Loading inventory...</p>
  </div>

  <!-- Error state -->
  <div class="error-container" *ngIf="error && !loading">
    <p>{{ error }}</p>
    <button class="retry-btn" (click)="loadInventory()">Retry</button>
  </div>

  <!-- Inventory grid -->
  <div class="inventory-grid" *ngIf="!loading && !error">
    <div class="inventory-card" *ngFor="let item of inventoryItems">
      <div class="card-content">
        <div class="item-image">
          <img [src]="item.imageUrl" [alt]="'Image of ' + item.name" />
        </div>
        <div class="item-details">
          <h3>{{ item.name }}</h3>
          <p class="stock-info">
            Stock: {{ item.stock }} Available
            <span
              class="stock-status"
              [style.color]="getStockStatus(item.stock).color"
            >
              ({{ getStockStatus(item.stock).status }})
            </span>
          </p>
          <p class="category" *ngIf="item.category">
            Category: {{ item.category }}
          </p>
        </div>
        <div class="item-actions">
          <button class="action-btn details" (click)="showDetails(item)">
            Details
          </button>
          <button
            class="action-btn request"
            (click)="requestItem(item)"
            [disabled]="item.stock === 0"
          >
            Request Item
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty state message -->
  <div
    class="empty-state"
    *ngIf="!loading && !error && inventoryItems.length === 0"
  >
    <p>No inventory items available</p>
  </div>

  <!-- Request Modal -->
  <app-request-inventory-modal
    *ngIf="showRequestModal"
    [selectedItem]="selectedItem"
    (closeModal)="onCloseRequestModal()"
    (requestSubmitted)="onRequestSubmitted($event)"
  >
  </app-request-inventory-modal>
</div>
